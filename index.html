<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Parqueadero Villa_laundrycoffee </title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
     
    <header>
        <div class="logo-container">
        <img src="Black-Gold-Luxury-and-Vintage-Decorative-Ornamental-Premium-Brand-Logo-2.png" alt="Logo de Parqueadero" class="header-logo">
        <h1>Parqueadero Villa_laundrycoffee üÖøÔ∏è</h1>
            </div>
        <nav>
            <button id="btn-login" class="nav-button"><i class="fas fa-sign-in-alt"></i> Iniciar Sesi√≥n</button>
            <button id="btn-logout" class="nav-button" style="display: none;"><i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n</button>
        </nav>
    </header>
    <main>
        <section id="login-section" class="card fade-in">
            <h2>Acceso al Sistema <i class="fas fa-user-lock"></i></h2>
            <form id="login-form">
                <div class="input-group">
                    <label for="username"><i class="fas fa-user"></i> Usuario</label>
                    <input type="text" id="username" placeholder="Usuario" required>
                </div>
                <div class="input-group">
                    <label for="password"><i class="fas fa-key"></i> Contrase√±a</label>
                    <input type="password" id="password" placeholder="Contrase√±a" required>
                </div>
                <button type="submit" class="primary-button">Entrar</button>
            </form>
            <div id="login-message" class="message error-message" style="display: none;"></div>
        </section>

        <section id="main-app" style="display: none;">
            <div id="notification-area" class="message" style="display: none;"></div>

            <div class="tabs">
                <button class="tab-button active" data-tab="entry-exit-tab"><i class="fas fa-car-side"></i> Entrada/Salida</button>
                <button class="tab-button" data-tab="active-vehicles-tab"><i class="fas fa-list-ul"></i> Activos</button>
                <button class="tab-button" data-tab="admin-settings-tab" id="admin-tab-button" style="display: none;"><i class="fas fa-cogs"></i> Admin</button>
            </div>

            <div id="entry-exit-tab" class="tab-content active-tab fade-in">
                <div class="card">
                    <h3>Registrar Entrada <i class="fas fa-arrow-alt-circle-down"></i></h3>
                    <form id="entry-form">
                        <div class="input-group">
                            <label for="plate-entry">Placa √≥ Identificaci√≥n del vehiculo:</label>
                            <input type="text" id="plate-entry" placeholder="Ej: ABC-123" required>
                        </div>
                        <div class="input-group">
                            <label for="type-entry">Tipo:</label>
                            <select id="type-entry" required>
                                <option value="carro">Carro (por hora)</option>
                                <option value="moto">Moto (por hora)</option>
<!--                                 <option value="carro-12h">Carro (12 Horas)</option>
                                    <option value="moto-12h">Moto (12 Horas)</option> -->
                                <option value="mensualidad">Carro (Mensualidad)</option>
                                <option value="moto-mensualidad">Moto (Mensualidad)</option>
                                <option value="otros-mensualidad">Otros Veh√≠culos (Mensualidad)</option>
                                <option value="otros-noche">Otros Veh√≠culos (Por Noche)</option>
                            </select>
                        </div>
                        <div id="others-type-container" style="display: none;">
                            <div class="input-group">
                                <label for="others-vehicle-size">Tama√±o:</label>
                                <select id="others-vehicle-size">
                                    <option value="peque√±o">Peque√±o</option>
                                    <option value="mediano">Mediano</option>
                                    <option value="grande">Grande</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="others-monthly-price">Precio:</label>
                                <input type="text" id="others-monthly-price" name="others-monthly-price" placeholder="Precio acordado" >
                            </div>
                        </div>
                        <button type="submit" class="primary-button"><i class="fas fa-plus-circle"></i> Registrar Entrada</button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Registrar Salida <i class="fas fa-arrow-alt-circle-up"></i></h3>
                    <form id="exit-form">
                        <div class="input-group">
                            <label for="plate-exit">Placa √≥ Identificaci√≥n del vehiculo::</label>
                            <input type="text" id="plate-exit" placeholder="Ej: ABC-123" required>
                        </div>
                        <div id="special-client-section" style="display: none;">
                            <div class="checkbox-group">
                                <input type="checkbox" id="special-client">
                                <label for="special-client">Cliente Especial</label>
                            </div>
                            <div class="input-group">
                                <label for="special-client-adjustment">Ajuste de precio:</label>
                                <input type="number" id="special-client-adjustment" placeholder="+/- valor" value="0">
                            </div>
                        </div>
                        <p id="exit-cost-display"></p>
                        <button type="submit" class="secondary-button"><i class="fas fa-sign-out-alt"></i> Calcular Salida</button>
                    </form>
                </div>

                <div id="result" class="card" style="display: none;">
                    <h3>Detalles de la Salida <i class="fas fa-file-invoice-dollar"></i></h3>
                    <div id="result-content"></div>
                    <button id="print-receipt" class="print-button"><i class="fas fa-file-pdf"></i> Descargar Recibo PDF</button>
                </div>
            </div>

            <div id="active-vehicles-tab" class="tab-content fade-in" style="display: none;">
                <div class="card">
                    <h3>Veh√≠culos Actualmente en Parqueadero <i class="fas fa-parking"></i></h3>
                    <div class="filter-buttons">
                        <button class="filter-button active" data-filter="all">Todos</button>
                        <button class="filter-button" data-filter="carro">Carros</button>
                        <button class="filter-button" data-filter="moto">Motos</button>
<!--                         <button class="filter-button" data-filter="12h">12h</button> -->
                        <button class="filter-button" data-filter="mensualidad">Mensualidad</button>
                        <button class="filter-button" data-filter="otros-noche">Por Noche</button>
                    </div>
                    <div class="search-container">
    <input type="text" id="vehicle-search" placeholder="Buscar por placa o descripci√≥n...">
</div>
                    <ul id="active-vehicles">
    </ul>
                    
                </div>
            </div>

            <div id="admin-settings-tab" class="tab-content fade-in" style="display: none;">
                <div id="admin-panel" class="card">
                    <h2>Panel de Administraci√≥n <i class="fas fa-user-shield"></i></h2>
                    <div class="card">
                        <h3>Ajustar Tarifas <i class="fas fa-dollar-sign"></i></h3>
                        <div class="admin-prices-container">
                            <div class="price-inputs">
                                <div class="input-group">
                                    <label for="car-half-hour">Carro/Media Hora:</label>
                                    <input type="number" id="car-half-hour" value="3000" step="1000">
                                </div>
                                <div class="input-group">
                                    <label for="car-hour">Carro/Hora:</label>
                                    <input type="number" id="car-hour" value="6000" step="1000">
                                </div>
                                <div class="input-group">
                                    <label for="bike-half-hour">Moto/Media Hora:</label>
                                    <input type="number" id="bike-half-hour" value="2000" step="1000">
                                </div>
                                <div class="input-group">
                                    <label for="bike-hour">Moto/Hora:</label>
                                    <input type="number" id="bike-hour" value="4000" step="1000">
                                </div>
                            </div>
                            
                            <div class="price-inputs">
                                <div class="input-group">
                                    <label for="car-12h">Carro/12h (Tarifa Plana):</label>
                                    <input type="number" id="car-12h" value="30000" step="1000">
                                </div>
                                <div class="input-group">
                                    <label for="bike-12h">Moto/12h (Tarifa Plana):</label>
                                    <input type="number" id="bike-12h" value="15000" step="1000">
                                </div>
                            </div>
                            <div class="price-inputs">
                                <div class="input-group">
                                    <label for="car-month">Carro/Mes (Promedio):</label>
                                    <input type="number" id="car-month" value="250000" step="1000">
                                </div>
                                <div class="input-group">
                                    <label for="bike-month">Moto/Mes (Promedio):</label>
                                    <input type="number" id="bike-month" value="150000" step="1000">
                                </div>
                            </div>
                        </div>
                        <div class="other-vehicle-prices">
                            <h4>Otros Veh√≠culos (Mensualidad)</h4>
                            <div class="size-prices-grid">
                                <div class="size-card">
                                    <h5>Peque√±o</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-small-min" value="100000">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-small-max" value="150000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-small-default" value="120000">
                                    </div>
                                </div>
                                <div class="size-card">
                                    <h5>Mediano</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-medium-min" value="151000">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-medium-max" value="200000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-medium-default" value="180000">
                                    </div>
                                </div>
                                <div class="size-card">
                                    <h5>Grande</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-large-min" value="201000">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-large-max" value="300000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-large-default" value="250000">
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="other-vehicle-prices">
                            <h4>Otros Veh√≠culos (Por Noche)</h4>
                            <div class="size-prices-grid">
                                <div class="size-card">
                                    <h5>Peque√±o</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-night-small-min" value="10000">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-night-small-max" value="15000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-night-small-default" value="12000">
                                    </div>
                                </div>
                                <div class="size-card">
                                    <h5>Mediano</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-night-medium-min" value="15100">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-night-medium-max" value="20000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-night-medium-default" value="18000">
                                    </div>
                                </div>
                                <div class="size-card">
                                    <h5>Grande</h5>
                                    <div class="input-group">
                                        <label>Rango M√≠n:</label>
                                        <input type="number" id="other-night-large-min" value="20100">
                                    </div>
                                    <div class="input-group">
                                        <label>Rango M√°x:</label>
                                        <input type="number" id="other-night-large-max" value="30000">
                                    </div>
                                    <div class="input-group">
                                        <label>Precio Defecto:</label>
                                        <input type="number" id="other-night-large-default" value="25000">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button id="save-prices" class="primary-button"><i class="fas fa-save"></i> Guardar Tarifas</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>¬© 2025 Parqueadero - Medell√≠n, Colombia</p>
    </footer>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-analytics.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyC81uKipArf__Mp9ernUh88E7kzjePdryA",
            authDomain: "parqueadero-fb51c.firebaseapp.com",
            projectId: "parqueadero-fb51c",
            storageBucket: "parqueadero-fb51c.firebasestorage.app",
            messagingSenderId: "76380635067",
            appId: "1:76380635067:web:657d27d21af6d5ac764e9e",
            measurementId: "G-RFPH0N835J"
        };
        
        const app = initializeApp(firebaseConfig);
        window.db = getFirestore(app); // Hacemos `db` global para que `script.js` pueda usarla
        const analytics = getAnalytics(app);
        
        console.log('Firebase y Firestore inicializados.');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
